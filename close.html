<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
  <title>‡∏õ‡∏¥‡∏î‡∏£‡πâ‡∏≤‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</title>
  <!-- ‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡∏ó‡∏µ‡πà Flex ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô 100% -->
  <script src="https://static.line-scdn.net/liff/edge/versions/2.3.0/sdk.js"></script>
</head>
<body style="margin:0; padding:20px; background:#f0f0f0; font-family: sans-serif;">
  <div style="text-align:center; padding:20px; background:white; border-radius:12px; box-shadow:0 2px 10px rgba(0,0,0,0.1);">
    <h2>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÅ‡∏ä‡∏£‡πå‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏õ‡∏¥‡∏î‡∏£‡πâ‡∏≤‡∏ô...</h2>
    <p>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà</p>
  </div>

  <script>
    async function shareClosingChecklist() {
      try {
        // 1. Init LIFF
        await liff.init({ liffId: "2008527446-EAkbo6rd" });

        // 2. ‡∏™‡πà‡∏á Flex Message ‡∏ú‡πà‡∏≤‡∏ô Share Target Picker
        await liff.shareTargetPicker([
          {
            type: "flex",
            altText: "‡∏õ‡∏¥‡∏î‡∏£‡πâ‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ üôè ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡∏°‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏ä‡πà‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡∏î‡∏π‡πÅ‡∏•‡∏£‡πâ‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏ß‡∏±‡∏ô üíö",
            view: "full",   // ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å! ‡∏ó‡∏≥‡πÉ‡∏´‡πâ Flex ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô‡πÉ‡∏ô‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡πÉ‡∏´‡∏°‡πà
            contents: {
              "type": "bubble",
              "header": {
                "type": "box",
                "layout": "vertical",
                "paddingAll": "16px",
                "backgroundColor": "#BBDEFB",
                "contents": [
                  {
                    "type": "text",
                    "text": "‡∏õ‡∏¥‡∏î‡∏£‡πâ‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ üôè\n‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡∏°‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏ä‡πà‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡∏î‡∏π‡πÅ‡∏•‡∏£‡πâ‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏ß‡∏±‡∏ô\n‡∏£‡πâ‡∏≤‡∏ô‡∏à‡∏∞‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å‡πÑ‡∏î‡πâ‡∏Å‡πá‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏°‡∏µ‡∏ó‡∏µ‡∏°‡∏ó‡∏µ‡πà‡πÉ‡∏™‡πà‡πÉ‡∏à‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡∏Ñ‡∏£‡∏±‡∏ö üíö",
                    "weight": "bold",
                    "size": "md",
                    "align": "center",
                    "color": "#000000",
                    "wrap": true
                  }
                ]
              },
              "body": {
                "type": "box",
                "layout": "vertical",
                "spacing": "md",
                "paddingAll": "16px",
                "contents": [
                  {
                    "type": "box",
                    "layout": "vertical",
                    "paddingAll": "14px",
                    "backgroundColor": "#E3F2FD",
                    "cornerRadius": "12px",
                    "contents": [
                      {
                        "type": "text",
                        "text": "‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏Å‡πà‡∏≠‡∏ô‡∏õ‡∏¥‡∏î‡∏£‡πâ‡∏≤‡∏ô",
                        "weight": "bold",
                        "size": "md",
                        "color": "#1976D2"
                      },
                      {
                        "type": "text",
                        "text": "‚Ä¢ ‡πÄ‡∏Å‡πá‡∏ö‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡πÇ‡∏ï‡πä‡∏∞/‡πÄ‡∏Å‡πâ‡∏≤‡∏≠‡∏µ‡πâ/‡πÄ‡∏Ñ‡∏≤‡∏ô‡πå‡πÄ‡∏ï‡∏≠‡∏£‡πå\n‚Ä¢ ‡∏•‡πâ‡∏≤‡∏á‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ö‡∏≤‡∏£‡πå‡πÅ‡∏•‡∏∞‡∏Ñ‡∏£‡∏±‡∏ß\n‚Ä¢ ‡πÄ‡∏Å‡πá‡∏ö‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤‡∏ó‡∏µ‡πà",
                        "size": "sm",
                        "color": "#555555",
                        "wrap": true,
                        "margin": "md"
                      }
                    ]
                  },
                  {
                    "type": "box",
                    "layout": "vertical",
                    "paddingAll": "14px",
                    "backgroundColor": "#E8EAF6",
                    "cornerRadius": "12px",
                    "contents": [
                      {
                        "type": "text",
                        "text": "‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏ä‡πá‡∏Å‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢",
                        "weight": "bold",
                        "size": "md",
                        "color": "#1976D2"
                      },
                      {
                        "type": "text",
                        "text": "‚Ä¢ ‡∏õ‡∏¥‡∏î‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏ü/‡πÅ‡∏≠‡∏£‡πå\n‚Ä¢ ‡∏ó‡∏¥‡πâ‡∏á‡∏Ç‡∏¢‡∏∞ + ‡πÅ‡∏¢‡∏Å‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•\n‚Ä¢ ‡πÄ‡∏ä‡πá‡∏Å‡∏õ‡∏£‡∏∞‡∏ï‡∏π/‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏ß‡∏á‡∏à‡∏£‡∏õ‡∏¥‡∏î",
                        "size": "sm",
                        "color": "#555555",
                        "wrap": true,
                        "margin": "md"
                      }
                    ]
                  }
                ]
              },
              "footer": {
                "type": "box",
                "layout": "vertical",
                "paddingAll": "12px",
                "backgroundColor": "#FFFFFF",
                "contents": [
                  {
                    "type": "button",
                    "style": "primary",
                    "color": "#1E88E5",
                    "height": "sm",
                    "action": {
                      "type": "postback",
                      "label": "‡∏õ‡∏¥‡∏î‡∏á‡∏≤‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢ ‚úÖ",
                      "data": "action=ack&list=evening",
                      "displayText": "‡∏õ‡∏¥‡∏î‡∏á‡∏≤‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏£‡∏±‡∏ö/‡∏Ñ‡πà‡∏∞"
                    }
                  }
                ]
              },
              "styles": {
                "footer": {
                  "separator": true
                }
              }
            }
          }
        ]);

        // ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‚Üí ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á
        liff.closeWindow();

      } catch (error) {
        document.body.innerHTML = `
          <div style="text-align:center; padding:30px; background:white; border-radius:12px;">
            <h3 style="color:#e53935;">‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î</h3>
            <p>${error.message || error}</p>
            <button onclick="location.reload()" style="padding:10px 20px; background:#1E88E5; color:white; border:none; border-radius:8px; margin-top:10px;">
              ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà
            </button>
          </div>
        `;
        console.error("LIFF Error:", error);
      }
    }

    // ‡∏£‡∏±‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏™‡∏£‡πá‡∏à
    shareClosingChecklist();
  </script>
</body>
</html>
